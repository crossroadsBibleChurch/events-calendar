<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>DAKboard Yearly 2026 - High Contrast Optimized</title>
   <!-- THE CORE ENGINE -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
    
    <!-- THE GOOGLE PLUGIN -->
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/google-calendar@6.1.15/index.global.min.js"></script>


    <style>
        /* --- GLOBAL THEME: PURE BLACK --- */
        body { margin: 0; padding: 5px; font-family: sans-serif; background: #000; color: #eee; overflow: hidden; }
        #calendar { max-width: 100%; height: 97vh; }
        
        /* 1. COMPACT GRID STYLING */
        .fc { 
            font-size: 0.76em; /* Slightly reduced to ensure all 12 months fit */
            color: #eee; 
            background: #000; 
        }

        /* Tighten the Toolbar/Header area */
        .fc-header-toolbar { margin-bottom: 0.3em !important; padding: 0 !important; height: 40px; }
        .fc-toolbar-title { font-size: 2.2em !important; color: #fff; font-weight: bold; }

        /* Cells & Borders */
        .fc-theme-standard td, .fc-theme-standard th { background: #000 !important; border: 1px solid #222 !important; }
        .fc-daygrid-day-frame { min-height: 18px !important; padding: 0 !important; }

        /* Shading: In-month (#1a1a1a) vs Out-of-month (Black) */
        .fc-daygrid-day:not(.fc-day-other) { background: #1a1a1a !important; }
        .fc-day-other { background: #000 !important; }

        /* 2. MONTH LABELS (Tightened) */
        .fc-multimonth-title { 
            font-size: 2.0em !important; 
            color: #fff; 
            font-weight: bold; 
            padding: 2px 0 !important; /* Minimal vertical gap */
            margin: 0 !important;
            cursor: pointer; 
        }

        /* 3. SELECTIVE EVENT VISIBILITY */
        /* Hide events on 'other' days in Year view, show in Month view */
        .fc-multimonth-daygrid .fc-day-other .fc-daygrid-event { display: none !important; }

        /* 4. CHIP LOGIC (Lightened Slate) */
        .fc-daygrid-event { background: transparent !important; border: none !important; cursor: pointer !important; }
        .fc-h-event, .fc-event-all-day, .fc-daygrid-block-event, .fc-multimonth-daygrid-event {
            background: #5a5a5a !important; 
            border: 1px solid #777 !important; 
            border-radius: 3px !important; 
            display: block !important; 
            padding: 1px 4px !important;
        }

        /* Lightened Dodger Blue Text (#8fc7ff) */
        .fc-event-main, .fc-event-title, .fc-event-time { 
            color: #8fc7ff !important; 
            font-weight: bold !important; 
        }
        .fc-daygrid-event-dot { display: none !important; }

        /* 5. ANIMATED OVERLAYS */
        .fade-overlay { display: none; opacity: 0; position: fixed; transition: opacity 0.3s ease-in-out; background: rgba(0,0,0,0.85); backdrop-filter: blur(5px); }
        .fade-overlay.show { display: block; opacity: 1; }
        #zoomOverlay { z-index: 1000; left: 5%; top: 5%; width: 90%; height: 90vh; border: 2px solid #444; border-radius: 15px; padding: 75px 30px 30px 30px; box-shadow: 0 0 100px #000; }
        #zoomCalendar { height: 100%; width: 100%; }
        #closeZoom { position: absolute; top: 15px; right: 20px; background: #444; color: #eee; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; z-index: 1100; }
        
        /* Zoom Text Scaling (Stay Large) */
        #zoomCalendar .fc-event-title, #zoomCalendar .fc-event-time { font-size: 2.2em !important; }
        #zoomCalendar .fc-daygrid-day-number { font-size: 2.8em !important; color: #fff !important; }
        #zoomCalendar .fc-col-header-cell-cushion { font-size: 2em !important; }
        #zoomCalendar .fc-toolbar-title { font-size: 3em !important; }

        /* 6. POPUP MODAL (Animated) */
        #customModal { 
            display: none; opacity: 0; position: fixed; z-index: 3000; left: 50%; top: 50%; 
            transform: translate(-50%, -50%) scale(0.9); transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); 
            width: 80%; max-width: 500px; background: #222; border: 2px solid #8fc7ff; border-radius: 15px; padding: 30px; 
        }
        #customModal.show { display: block; opacity: 1; transform: translate(-50%, -50%) scale(1); }
        #mTitle { color: #8fc7ff; margin: 0 0 10px 0; font-size: 1.8em; }
        #mTime { color: #aaa; font-weight: bold; margin-bottom: 20px; font-size: 1.2em; }
        #mDesc { color: #ddd; line-height: 1.6; font-size: 1.1em; max-height: 300px; overflow-y: auto; }
        #mClose { float: right; background: #444; color: #fff; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 20px; }

        /* 7. SYNC INFO (Bottom-Left Fix) */
        #refreshInfo { position: fixed; bottom: 5px; left: 10px; font-size: 0.9em; color: #555; font-weight: bold; z-index: 50; }
    </style>

</head>
<body>
    <div id="calendar"></div>
    <div id="refreshInfo">Last Sync: <span id="lastUpdate">--:--</span></div>

    <div id="customModal">
        <h3 id="mTitle"></h3>
        <p id="mTime"></p>
        <div id="mDesc"></div>
        <button id="mClose" onclick="closeModal()">Close</button>
    </div>

    <div id="zoomOverlay" class="fade-overlay">
        <button id="closeZoom" onclick="closeZoom()">CLOSE X</button>
        <div id="zoomCalendar"></div>
    </div>

    <script>
        var mainCal, zoomCal;
        var API_KEY = 'AIzaSyD1icSp6SOC9A0yIsy0rGk0mr1B60sW2Zo';
        var CAL_ID = 'eventsatcrossroads@gmail.com';

        function showEl(id) { const el = document.getElementById(id); el.style.display = 'block'; setTimeout(() => el.classList.add('show'), 10); }
        function hideEl(id) { const el = document.getElementById(id); el.classList.remove('show'); setTimeout(() => el.style.display = 'none', 300); }
        function closeModal() { hideEl('customModal'); }
        function closeZoom() { hideEl('zoomOverlay'); }

        function showDetails(info) {
            if (info.jsEvent) info.jsEvent.preventDefault();
            const event = info.event;
            document.getElementById('mTitle').innerText = event.title;
            const timeStr = event.allDay ? "All Day Event" : event.start.toLocaleString([], { weekday: 'long', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });
            document.getElementById('mTime').innerText = timeStr;
            const desc = event.extendedProps.description || "No description provided.";
            document.getElementById('mDesc').innerHTML = desc.replace(/\n/g, "<br>");
            showEl('customModal');
        }

        window.onload = function() {
            mainCal = new FullCalendar.Calendar(document.getElementById('calendar'), {
                googleCalendarApiKey: API_KEY,
                events: { googleCalendarId: CAL_ID },
                initialView: 'multiMonthYear',
                multiMonthMaxColumns: 4,
                showNonCurrentDates: true,
                headerToolbar: { left: 'prev,next today', center: 'title', right: '' },
                height: 'auto',
                eventClick: showDetails,
                loading: (isLoading) => { 
                    if (!isLoading) document.getElementById('lastUpdate').innerText = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                }
            });
            mainCal.render();

            setInterval(() => { mainCal.refetchEvents(); if (zoomCal) zoomCal.refetchEvents(); }, 900000);

            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('fc-multimonth-title')) {
                    const yearText = mainCal.view.title; 
                    const monthPart = e.target.innerText.split('\n');
                    openZoom(monthPart + " 1, " + yearText);
                }
            });

            function openZoom(dateStr) {
                showEl('zoomOverlay');
                setTimeout(() => {
                    if (zoomCal) zoomCal.destroy();
                    zoomCal = new FullCalendar.Calendar(document.getElementById('zoomCalendar'), {
                        googleCalendarApiKey: API_KEY,
                        eventSources: [{ googleCalendarId: CAL_ID }],
                        initialView: 'dayGridMonth',
                        initialDate: new Date(dateStr),
                        showNonCurrentDates: true,
                        fixedWeekCount: false,
                        headerToolbar: { left: 'prev,next today', center: 'title', right: '' },
                        height: 'parent',
                        eventDisplay: 'auto',
                        eventClick: showDetails
                    });
                    zoomCal.render();
                    window.dispatchEvent(new Event('resize'));
                }, 150);
            }
        };
    </script>
</body>
</html>
