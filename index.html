<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>DAKboard Yearly - Slate Chips</title>
    
<!-- THE CORE ENGINE -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
    
    <!-- THE GOOGLE PLUGIN -->
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/google-calendar@6.1.15/index.global.min.js"></script>


    <style>
        /* --- GLOBAL THEME --- */
        body { 
            margin: 0; padding: 10px; font-family: sans-serif; 
            background: #111111; color: #eeeeee; 
        }
        #calendar { max-width: 100%; margin: 0 auto; height: 98vh; }
        
        /* --- GRID STYLING --- */
        .fc { font-size: 0.58em; color: #eeeeee; }
        .fc-theme-standard td, .fc-theme-standard th { background-color: #1a1a1a !important; border: 1px solid #2a2a2a !important; }
        .fc-multimonth-month { background: #1a1a1a !important; border: 1px solid #333 !important; }
        .fc-multimonth-title { font-weight: bold; border-bottom: 1px solid #444; color: #ffffff; font-size: 1.4em; padding: 5px 0; }
        .fc-daygrid-day-number { color: #bbbbbb; padding: 2px 4px !important; }
        .fc-col-header-cell-cushion { color: #888; text-transform: uppercase; font-size: 0.85em; }

        /* --- EVENT STYLING --- */
        .fc-daygrid-event-dot { display: none !important; } /* Hide dots */

        /* Standard Timed Events (Text Only) */
        .fc-event { 
            background: transparent !important; border: none !important; 
            color: #74b9ff !important; padding: 1px 2px !important; font-weight: 500;
            cursor: pointer;
        }

        /* Full-Day & Multi-Day Events (Slate Grey Chips) */
        /* FullCalendar applies the .fc-event-all-day class to these */
 	       /* 1. Style the Chip (Background) */
	.fc-v-event.fc-event-all-day, 
	.fc-h-event.fc-event-all-day,
	.fc-daygrid-block-event {
	    background-color: #444444 !important; /* Slate Grey Background */
	    border: 1px solid #555555 !important;
	    border-radius: 3px !important;
	}
	
	/* 2. Force the Internal Text to Dodger Blue */
	.fc-daygrid-block-event .fc-event-title,
	.fc-daygrid-block-event .fc-event-main,
	.fc-v-event.fc-event-all-day .fc-event-title,
	.fc-h-event.fc-event-all-day .fc-event-title {
	    color: #ffffff !important; /* Dodger Blue Text */
	    /* font-weight: bold !important; */
	    text-shadow: none !important; /* Remove any default shadows */
	} 

/* --- MODAL / POPUP --- */
        #eventModal {
            display: none; position: fixed; z-index: 999; left: 50%; top: 50%;
            transform: translate(-50%, -50%); width: 85%; max-width: 400px;
            background: #222; border: 1px solid #444; color: white;
            padding: 25px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }
        #modalTitle { margin: 0 0 10px 0; color: #74b9ff; border-bottom: 1px solid #333; padding-bottom: 10px; }
        #modalClose { 
            margin-top: 20px; background: #0984e3; border: none; color: white; 
            padding: 10px 20px; border-radius: 6px; cursor: pointer; float: right; font-weight: bold;
        }
        
        /* --- TOOLBAR --- */
        .fc-button { background-color: #333 !important; border: 1px solid #444 !important; color: #fff !important; }
        .fc-toolbar-title { font-size: 1.2em !important; }
    </style>
</head>
<body>
    <div id="calendar-status" style="text-align:center; padding:50px;">Syncing Google Calendar...</div>
    
    <div id="eventModal">
        <h3 id="modalTitle"></h3>
        <div id="modalTime" style="font-weight:bold; margin-bottom:10px; font-size:0.9em; color:#aaa;"></div>
        <div id="modalDesc" style="font-size:0.95em; color:#ddd; line-height:1.5;"></div>
        <button id="modalClose" onclick="closeModal()">Close</button>
    </div>

    <div id="calendar"></div>

    <script>
        function closeModal() { document.getElementById('eventModal').style.display = 'none'; }

        window.onload = function() {
            var statusEl = document.getElementById('calendar-status');
            if (typeof FullCalendar !== 'undefined') {
                statusEl.style.display = 'none';
                
                var calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {
                    initialView: 'multiMonthYear',
                    multiMonthMaxColumns: 4, 
                    headerToolbar: { left: 'prev,next today', center: 'title', right: '' },
                    
                    // --- CONFIGURATION ---
                    googleCalendarApiKey: 'AIzaSyD1icSp6SOC9A0yIsy0rGk0mr1B60sW2Zo', 
                    events: {
                        googleCalendarId: 'eventsatcrossroads@gmail.com'
                    },
                    
                    eventClick: function(info) {
                        info.jsEvent.preventDefault(); 
                        document.getElementById('modalTitle').innerText = info.event.title;
                        document.getElementById('modalTime').innerText = info.event.allDay 
                            ? "All Day Event" 
                            : info.event.start.toLocaleString([], {weekday:'long', month:'short', day:'numeric', hour:'2-digit', minute:'2-digit'});
                        document.getElementById('modalDesc').innerText = info.event.extendedProps.description || "No description provided.";
                        document.getElementById('eventModal').style.display = 'block';
                    },
                    height: 'auto'
                });
                calendar.render();
            }
        }
    </script>
</body>
</html>
