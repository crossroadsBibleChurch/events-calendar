<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Yearly Calendar</title>
    
    <!-- LINE 9: THE CORE ENGINE -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
    
    <!-- LINE 12: THE GOOGLE PLUGIN -->
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/google-calendar@6.1.15/index.global.min.js"></script>

    <style>
        body { margin: 0; padding: 10px; font-family: sans-serif; background: #ffffff; }
        #calendar { max-width: 100%; margin: 0 auto; height: 98vh; }
        .fc { font-size: 0.6em; color: #333; }
        .fc-multimonth-title { font-weight: bold; border-bottom: 1px solid #eee; padding: 5px 0; }
        .fc-daygrid-day-number { color: #444; font-weight: 600; }
    </style>
</head>
<body>
    <div id="calendar-status" style="text-align:center; padding:50px;">Syncing Google Calendar...</div>
    <div id="calendar"></div>

    <script>
        window.onload = function() {
            var statusEl = document.getElementById('calendar-status');

            if (typeof FullCalendar !== 'undefined') {
                statusEl.style.display = 'none';
                var calendarEl = document.getElementById('calendar');
                
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: 'multiMonthYear',
                    multiMonthMaxColumns: 4, 
                    
                    // --- CONFIGURATION ---
                    googleCalendarApiKey: 'AIzaSyD1icSp6SOC9A0yIsy0rGk0mr1B60sW2Zo', 
                    events: {
                        googleCalendarId: 'eventsatcrossroads@gmail.com'
                    },
                    
                    // --- POPUP LOGIC ---
                    eventClick: function(info) {
                        // Prevent the browser from opening the Google Calendar website
                        info.jsEvent.preventDefault(); 

                        // Simple popup with details
                        var title = info.event.title;
                        var start = info.event.start.toLocaleString([], {month:'short', day:'numeric', hour:'2-digit', minute:'2-digit'});
                        var desc = info.event.extendedProps.description || "No description provided.";
                        
                        alert("Event: " + title + "\nTime: " + start + "\n\n" + desc);
                    },
                    
                    headerToolbar: { left: '', center: 'title', right: '' },
                    height: 'auto'
                });

                calendar.render();
            } else {
                statusEl.innerHTML = "Error: Library could not be reached.";
            }
        };
    </script>
</body>
</html>
